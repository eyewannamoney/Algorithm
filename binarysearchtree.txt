#include <stdio.h>
#include <stdlib.h>

typedef struct node *nodepointer;
typedef struct node {
	int data;
	nodepointer left;
	nodepointer right;
} node;

nodepointer initnode(nodepointer *a, int data)
{
	(*a) = (nodepointer)malloc(sizeof(node));
	(*a)->data = data;
	(*a)->left = NULL;
	(*a)->right = NULL;

	return *a;
}

void insert(nodepointer curr, int value)
{
	if (!curr) {
		curr = initnode(&curr, value);
	}

	else {
		if (value < curr->data) {
			if (!curr->left) {
				curr->left = initnode(&curr->left, value);
			} else {
				insert(curr->left, value);
			}
		} else {
			if (!curr->right) {
				curr->right = initnode(&curr->right, value);
			} else {
				insert(curr->right, value);
			}
		}
	}
}
nodepointer find(nodepointer curr, int value)
{
	if (!curr) {
		return NULL;
	}

	if (value == curr->data) {
		return curr;
	} else {
		if (value > curr->data) {
			return find(curr->right, value);
		} else {
			return find(curr->left, value);
		}
	}
}

nodepointer successor(nodepointer a)
{
	nodepointer curr = a->right;
	while (curr && curr->left)
		curr = curr->left;

	return curr;
}

nodepointer erase(nodepointer node, int value)
{
	if (!node)
		return NULL;

	if (value < node->data) {
		node->left = erase(node->left, value);
	} else if (value > node->data) {
		node->right = erase(node->right, value);
	} else {
		if (node->left && node->right) {
			nodepointer curr = successor(node);
			node->data = curr->data;
			node->right = erase(node->right, curr->data);
		} else {
			nodepointer temp = node->left ? node->left : node->right;
			free(node);
			return temp;
		}
	}
	return node;
}

void inorder(nodepointer a)
{
	if (a) {
		inorder(a->left);
		printf("%d ,", a->data);
		inorder(a->right);
	}
}

int main()
{
	nodepointer bst;
	initnode(&bst, 10);
	insert(bst, 14);
	insert(bst, 5);
	insert(bst, 7);
	insert(bst, 18);
	insert(bst, 4);
	insert(bst, 6);
	insert(bst, 20);
	insert(bst, 16);

	inorder(bst);
	return 0;
}